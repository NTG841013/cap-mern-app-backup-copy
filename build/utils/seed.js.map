{"version":3,"sources":["../../src/utils/seed.js"],"names":["seedDb","console","log","User","deleteMany","Message","__dirname","process","env","IMAGES_FOLDER_PATH","usersPromises","Array","keys","map","index","i","user","provider","username","email","password","name","faker","findName","avatar","bio","lorem","sentences","role","registerUser","Promise","all","save"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;;;AAEO,MAAMA,MAAM,GAAG,YAAW;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AAEA,QAAMC,cAAKC,UAAL,CAAgB,EAAhB,CAAN;AACA,QAAMC,iBAAQD,UAAR,CAAmB,EAAnB,CAAN;AACA,QAAM,6BAAiB,gBAAKE,SAAL,EAAgB,OAAhB,EAAyBC,OAAO,CAACC,GAAR,CAAYC,kBAArC,CAAjB,CAAN,CAL6B,CAO7B;;AACA,QAAMC,aAAa,GAAG,CAAC,GAAGC,KAAK,CAAC,CAAD,CAAL,CAASC,IAAT,EAAJ,EAAqBC,GAArB,CAAyB,CAACC,KAAD,EAAQC,CAAR,KAAc;AACzD,UAAMC,IAAI,GAAG,IAAIb,aAAJ,CAAS;AAClBc,MAAAA,QAAQ,EAAE,OADQ;AAElBC,MAAAA,QAAQ,EAAG,OAAMJ,KAAM,EAFL;AAGlBK,MAAAA,KAAK,EAAG,QAAOL,KAAM,YAHH;AAIlBM,MAAAA,QAAQ,EAAE,WAJQ;AAKlBC,MAAAA,IAAI,EAAEC,eAAMD,IAAN,CAAWE,QAAX,EALY;AAMlB;AACAC,MAAAA,MAAM,EAAG,SAAQV,KAAM,MAPL;AAQlBW,MAAAA,GAAG,EAAEH,eAAMI,KAAN,CAAYC,SAAZ,CAAsB,CAAtB;AARa,KAAT,CAAb;;AAWA,QAAIb,KAAK,KAAK,CAAd,EAAiB;AACbE,MAAAA,IAAI,CAACY,IAAL,GAAY,OAAZ;AACH;;AACDZ,IAAAA,IAAI,CAACa,YAAL,CAAkBb,IAAlB,EAAwB,MAAM,CAAE,CAAhC;AAEA,WAAOA,IAAP;AACH,GAlBqB,CAAtB;AAoBA,QAAMc,OAAO,CAACC,GAAR,CACFrB,aAAa,CAACG,GAAd,CAAkB,MAAMG,IAAN,IAAe;AAC7B,UAAMA,IAAI,CAACgB,IAAL,EAAN;AACH,GAFD,CADE,CAAN;AAOH,CAnCM","sourcesContent":["import faker from 'faker';\nimport { join } from 'path';\n\nimport User from '../models/User';\nimport Message from '../models/Message';\nimport { deleteAllAvatars } from './utils';\n\nexport const seedDb = async() => {\n    console.log('Seeding database...');\n\n    await User.deleteMany({});\n    await Message.deleteMany({});\n    await deleteAllAvatars(join(__dirname, '../..', process.env.IMAGES_FOLDER_PATH));\n\n    // create 3 users\n    const usersPromises = [...Array(3).keys()].map((index, i) => {\n        const user = new User({\n            provider: 'email',\n            username: `user${index}`,\n            email: `email${index}@email.com`,\n            password: '123456789',\n            name: faker.name.findName(),\n            // avatar: faker.image.avatar(),\n            avatar: `avatar${index}.jpg`,\n            bio: faker.lorem.sentences(3),\n        });\n\n        if (index === 0) {\n            user.role = 'ADMIN';\n        }\n        user.registerUser(user, () => {});\n\n        return user;\n    });\n\n    await Promise.all(\n        usersPromises.map(async(user) => {\n            await user.save();\n        }),\n    );\n\n\n};"],"file":"seed.js"}